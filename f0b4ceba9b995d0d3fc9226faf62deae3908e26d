{
  "comments": [
    {
      "key": {
        "uuid": "9abe1de1_0c63231c",
        "filename": "playbooks/legacy/tripleo-ci/ceph.yaml",
        "patchSetId": 7
      },
      "lineNbr": 24,
      "author": {
        "id": 192
      },
      "writtenOn": "2018-07-30T11:18:56Z",
      "side": 1,
      "message": "can we change this slightly. I am thinking add two blocks one when dev_loop3_res.stat.exists where we just skip and exit and another where it doesn\u0027t exist and we do this stuff.\n\nThe reason is we can then just merge this first. If tripleo. sh is still being called before this, then it wont fail here. \n\nI can then land a patch on tripleo-ci to remove the tripleo.sh --bootstrap-subnodes from toci_gate_test.sh as discussed in https://trello.com/c/lrSUMaqw/885-translate-tripleosh-bootstrap-subnodes-into-a-series-of-tasks-s17\n\nOnce that merges we can then even remove the conditional and revert back to this as above.\n\nwdyt do you agree thanks",
      "range": {
        "startLine": 11,
        "startChar": 5,
        "endLine": 24,
        "endChar": 13
      },
      "revId": "f0b4ceba9b995d0d3fc9226faf62deae3908e26d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9abe1de1_4048bf5b",
        "filename": "playbooks/legacy/tripleo-ci/ceph.yaml",
        "patchSetId": 7
      },
      "lineNbr": 24,
      "author": {
        "id": 155
      },
      "writtenOn": "2018-07-30T13:17:11Z",
      "side": 1,
      "message": "Maybe it\u0027s better to insert this check in bootstrap function? Because this playbook runs *before* bootstrap of multinode jobs in tripleo.sh. So it will always create a loop device, but bootstrap function in tripleo.sh will fail if it exists.",
      "parentUuid": "9abe1de1_0c63231c",
      "range": {
        "startLine": 11,
        "startChar": 5,
        "endLine": 24,
        "endChar": 13
      },
      "revId": "f0b4ceba9b995d0d3fc9226faf62deae3908e26d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9abe1de1_004f6793",
        "filename": "playbooks/legacy/tripleo-ci/ceph.yaml",
        "patchSetId": 7
      },
      "lineNbr": 24,
      "author": {
        "id": 192
      },
      "writtenOn": "2018-07-31T09:13:31Z",
      "side": 1,
      "message": "ack you\u0027re right i got the sequencing the wrong way around.\n\nHm I don\u0027t really want to edit tripleo.sh --bootstrap since the ultimate goal here is to just stop using it ! But I also can\u0027t think of another way so I\u0027ll update https://review.openstack.org/#/c/587012/ and add a guard for the /dev/loop3 for now with some note about removing it once these both merge",
      "parentUuid": "9abe1de1_4048bf5b",
      "range": {
        "startLine": 11,
        "startChar": 5,
        "endLine": 24,
        "endChar": 13
      },
      "revId": "f0b4ceba9b995d0d3fc9226faf62deae3908e26d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9abe1de1_8c5e1344",
        "filename": "zuul.d/jobs.yaml",
        "patchSetId": 7
      },
      "lineNbr": 34,
      "author": {
        "id": 192
      },
      "writtenOn": "2018-07-30T11:28:11Z",
      "side": 1,
      "message": "can you also add it here please? For this: https://github.com/openstack-infra/tripleo-ci/blob/833c9d2a814c15011c43f25021bdfde19e308afd/zuul.d/base.yaml#L51",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "f0b4ceba9b995d0d3fc9226faf62deae3908e26d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9abe1de1_e06d93cd",
        "filename": "zuul.d/jobs.yaml",
        "patchSetId": 7
      },
      "lineNbr": 34,
      "author": {
        "id": 155
      },
      "writtenOn": "2018-07-30T13:17:11Z",
      "side": 1,
      "message": "I don\u0027t think we need to add it to ovb jobs. In upstream we have multinode only, so it\u0027s fine to have them in base job. But here we have OVB jobs that don\u0027t need this at all.",
      "parentUuid": "9abe1de1_8c5e1344",
      "range": {
        "startLine": 34,
        "startChar": 0,
        "endLine": 34,
        "endChar": 38
      },
      "revId": "f0b4ceba9b995d0d3fc9226faf62deae3908e26d",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7",
      "unresolved": false
    }
  ]
}