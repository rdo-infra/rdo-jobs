testcases:
  - "deploy podified cinder scheduler and API"
  - "wait for cinder pods to start up"
  - "check that cinder is reachable and its endpoints are defined"
  - "cinder online data migrations"
  - "deploy podified Horizon"
  - "wait for horizon to start up"
  - "check that horizon instance is deployed successfully"
  - "check horizon dashboard is reachable"
  - "deploy podified heat"
  - "wait for Heat to start up"
  - "check that heat is reachable and its endpoints are defined"
  - "deploy podified swift"
  - "add swift.conf secret"
  - "add swift ring files configmap"
  - "wait for swift to start up"
  - "check that swift is reachable and its endpoints are defined"
  - "deploy podified glance with ceph backend"
  - "deploy podified glance with swift backend"
  - "deploy podified glance with cinder backend"
  - "wait for glance to start up"
  - "check that glance is reachable and its endpoints are defined"
  - "wait for placement to start up"
  - "check that placement is reachable and its endpoints are defined"
  - "deploy podified placement"
  - "deploy podified keystone"
  - "add keystone fernet keys secret"
  - "wait for keystone to start up"
  - "wait for openstackclient pod to start up"
  - "check that keystone is reachable and its endpoints are defined"
  - "verify that pre-adoption token still works"
  - "verify that pre-adoption credential stills the same"
  - "deploy podified manila"
  - "wait for manila to start up"
  - "check that manila is reachable and its endpoints are defined"
  - "patch osp-secret with kek"
  - "deploy podified barbican"
  - "wait for barbican to start up"
  - "check that barbican is reachable and its endpoints are defined"
  - "check that barbican secret payload was migrated successfully"
  - "deploy podified neutron"
  - "wait for neutron to start up"
  - "check that neutron is reachable and its endpoints are defined"
  - "deploy the podified control plane"
  - "wait for services to start up"
  - "patch openstack upstream dns server to set the correct value"
  - "patch rabbitmq resources for lower resource consumption"
  - "restore databases"
  - "dump databases"
  - "test connection to podified DBs"
  - "get the count of not-OK source databases"
  - "check that the galera db cluster members online synced"
  - "start the source control plane services"
  - "clean up the podified control plane"
  - "verify that the source control plane is responding"
  - "mariaDB checks"
  - "deploy podified nova conductors"
  - "wait for nova control plane services"
  - "check that nova endpoints are defined and pointing to the podified FQDNs"
  - "query the superconductor for cell1 existance"
  - "deploy cluster-observability operator"
  - "deploy metric storage"
  - "wait for alertmanager metric storage to start up"
  - "wait for prometheus metric storage to start up"
  - "deploy podified ceilometer"
  - "wait for ceilometer to start up"
  - "include logging"
  - "create OpenStackDataPlaneNodeSet"
  - "check ovs external-ids with os-diff before deployment"
  - "prepare adopted EDPM workloads to use ceph backend for cinder"
  - "set neutron-sriov-nic-agent configuration in the OpenStackDataPlaneNodeSet CR"
  - "set neutron-dhcp configuration in the OpenStackDataPlaneNodeSet CR"
  - "create OpenStackDataPlaneDeployment to run cleanup"
  - "deploy the dataplane deployment"
  - "wait for dataplane node set to be ready"
  - "verify if nova services can start the existing test VM instance"
  - "verify that neutron-ovn-metadata-agent is alive"
  - "get neutron-sriov-nic-agent alive state"
  - "verify that neutron-sriov-nic-agent is alive"
  - "get neutron-dhcp-agent alive state"
  - "verify that neutron-dhcp-agent is alive"
  - "verify connectivity to the existing test VM instance using floating IP"
  - "wait for cell1 nova compute EDPM services version updated"
  - "remove pre-FFU workarounds for nova control plane services"
  - "remove pre-FFU workarounds for nova compute EDPM services"
  - "wait for nova compute EDPM services to become ready"
  - "run nova DB online migrations to complete FFU"
  - "discover nova compute hosts in the cell"
  - "generate an ssh key-pair nova-migration-ssh-key secret"
  - "create dataplane-adoption-secret.yaml"
  - "create openStackDataPlaneDeployment to run validation only"
  - "create OpenStackDataPlaneService"
  - "ensure IPAM is configured"
  - "deploy osdpd check nova compute edpm services nova db migrations"
  - "stop control plane services"
  - "deploy podified OVN ovsdb-servers"
  - "get podified cell1 mariaDB IP"
  - "stop pacemaker services"
  - "list briefs from OVN nb and sb database"
  - "enable ovn controller"
  - "patch OVN add baremetal bridge mapping"
  - "deploy podified OVN northd service to keep databases in sync"
  - "restore OVN database backups to podified ovsdb-servers"
  - "upgrade OVN databases to the latest schema"
  - "dump OVN databases using tcp connection"
  - "stop northd service"
  - "wait for OVN ovsdb-servers to start up"
  - "get podified mariaDB service cluster IP"
  - "verify if nova services can stop the existing test VM instance"
