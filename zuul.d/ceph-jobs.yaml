---
- job:
    name: tripleo-ci-ceph-daemon-get-latest-stable-tag-master
    timeout: 3000
    nodeset: single-centos-9-stream-node-vexxhost
    run: playbooks/ceph/run-get-latest-ceph-daemon-tag.yml

- job:
    name: tripleo-ci-centos-9-scenario001-standalone-ceph-updates-master
    parent: tripleo-ci-centos-9-scenario001-standalone
    vars: &ceph_updates_vars
      standalone_container_ceph_updates: true

- job:
    name: tripleo-ci-centos-9-scenario004-standalone-ceph-updates-master
    parent: tripleo-ci-centos-9-scenario004-standalone
    vars: *ceph_updates_vars

- project-template:
    name: ceph-daemon-promotion-pipeline
    periodic-promote-ceph-daemon:
      jobs:
        - tripleo-ci-ceph-daemon-get-latest-stable-tag-master
        - tripleo-ci-centos-9-scenario001-standalone-ceph-updates-master: &scn001_ceph_updates
            dependencies:
              - tripleo-ci-ceph-daemon-get-latest-stable-tag-master
        - tripleo-ci-centos-9-scenario004-standalone-ceph-updates-master: *scn001_ceph_updates
        - tripleo-ci-promote-ceph-daemon-tag-to-current-ceph-master:
            dependencies:
              - tripleo-ci-ceph-daemon-get-latest-stable-tag-master
              - tripleo-ci-centos-9-scenario001-standalone-ceph-updates-master
              - tripleo-ci-centos-9-scenario004-standalone-ceph-updates-master
