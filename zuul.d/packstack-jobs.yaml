- job:
    name: packstack-centos9
    parent: packstack-base
    vars:
      selinux_enforcing: "false"
      delorean: "https://trunk.rdoproject.org/centos9/current/delorean.repo"
      delorean_deps: "https://trunk.rdoproject.org/centos9/delorean-deps.repo"
    #pre-run: playbooks/packstack-centos8-pre.yaml
    nodeset:
      nodes:
        - name: centos9s
          label: centos-9-stream
    run: playbooks/packstack-integration-tempest.yaml

- job:
    name: packstack-multinode-centos9
    parent: packstack-base
    vars:
      selinux_enforcing: "false"
      delorean: "https://trunk.rdoproject.org/centos9/current/delorean.repo"
      delorean_deps: "https://trunk.rdoproject.org/centos9/delorean-deps.repo"
    #pre-run: playbooks/packstack-centos8-pre.yaml
    nodeset:
      nodes:
        - name: controller
          label: centos-9-stream
        - name: compute
          label: centos-9-stream
    run: playbooks/packstack-multinode.yaml

- job:
    name: packstack-centos9-integration-scenario001
    parent: packstack-centos9
    vars:
      scenario: scenario001

- job:
    name: packstack-centos9-integration-scenario002
    parent: packstack-centos9
    vars:
      scenario: scenario002

- job:
    name: packstack-centos9-integration-scenario003
    parent: packstack-centos9
    vars:
      scenario: scenario003

- job:
    name: packstack-centos9-multinode-scenario002-tempest
    parent: packstack-multinode-centos9
    post-run: playbooks/packstack-post-compute.yaml
    vars:
      scenario: scenario002
