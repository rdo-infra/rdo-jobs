---
# Centos9 stream wallaby jobs
## promote to tripleo-ci-testing
- job:
    name: periodic-tripleo-centos-9-wallaby-promote-promoted-components-to-tripleo-ci-testing
    parent: periodic-tripleo-centos-9-master-promote-promoted-components-to-tripleo-ci-testing
    vars:
      release: wallaby

## containers/images
- job:
    name: periodic-tripleo-ci-build-containers-centos-9-push-wallaby
    parent: periodic-tripleo-ci-build-containers-centos-9-push-master
    override-checkout: "stable/wallaby"
    vars:
      release: wallaby
      branch_override: "stable/wallaby"
      registry_namespace: tripleowallabycentos9

- job:
    name: periodic-tripleo-centos-9-buildimage-overcloud-full-wallaby
    parent: periodic-tripleo-centos-9-buildimage-overcloud-full-master
    override-checkout: "stable/wallaby"
    vars: &wallaby_vars
      release: wallaby
      branch_override: "stable/wallaby"

- job:
    name: periodic-tripleo-centos-9-buildimage-ironic-python-agent-wallaby
    parent: periodic-tripleo-centos-9-buildimage-ironic-python-agent-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-centos-9-buildimage-overcloud-hardened-uefi-full-wallaby
    parent: periodic-tripleo-centos-9-buildimage-overcloud-hardened-uefi-full-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

## standalone
- job:
    name: periodic-tripleo-ci-centos-9-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario001-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario001-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario002-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario002-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario003-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario003-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario004-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario004-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario007-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario007-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario012-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario012-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario010-ovn-provider-standalone-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario010-ovn-provider-standalone-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-standalone-on-multinode-ipa-wallaby
    parent: periodic-tripleo-ci-centos-9-standalone-on-multinode-ipa-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

## undercloud

- job:
    name: periodic-tripleo-ci-centos-9-undercloud-containers-wallaby
    parent: periodic-tripleo-ci-centos-9-undercloud-containers-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

## multinode
- job:
    name: periodic-tripleo-ci-centos-9-containers-multinode-wallaby
    parent: periodic-tripleo-ci-centos-9-containers-multinode-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario000-multinode-oooq-container-updates-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-scenario007-multinode-oooq-container-wallaby
    parent: periodic-tripleo-ci-centos-9-scenario007-multinode-oooq-container-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

# standalone full tempest api and scenario jobs

- job:
    name: periodic-tripleo-ci-centos-9-standalone-full-tempest-api-wallaby
    parent: periodic-tripleo-ci-centos-9-standalone-full-tempest-api-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

- job:
    name: periodic-tripleo-ci-centos-9-standalone-full-tempest-scenario-wallaby
    parent: periodic-tripleo-ci-centos-9-standalone-full-tempest-scenario-master
    override-checkout: "stable/wallaby"
    vars: *wallaby_vars

# OVB jobs
- job:
    name: periodic-tripleo-ci-ovb-required-project-rdo-centos-9-wallaby
    parent: periodic-tripleo-ci-ovb-rdo-centos-9
    abstract: true
    required-projects:
      - name: opendev.org/openstack/openstack-virtual-baremetal
        override-checkout: stable/2.0

- job:
    name: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-wallaby
    parent: periodic-tripleo-ci-ovb-required-project-rdo-centos-9-wallaby
    override-checkout: "stable/wallaby"
    vars:
      <<: *wallaby_vars
      nodes: 3ctlr_1comp
      featureset: '001'
      featureset_override:
        to_build: false


- job:
    name: periodic-tripleo-ci-centos-9-ovb-1ctlr_1comp-featureset002-wallaby
    parent: periodic-tripleo-ci-ovb-required-project-rdo-centos-9-wallaby
    override-checkout: "stable/wallaby"
    vars:
      <<: *wallaby_vars
      nodes: 1ctlr_1comp
      featureset: '002'
      image_upload: false

- job:
    name: periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-wallaby
    parent: periodic-tripleo-ci-ovb-required-project-rdo-centos-9-wallaby
    override-checkout: "stable/wallaby"
    vars:
      <<: *wallaby_vars
      nodes: 1ctlr_2comp
      featureset: '020'
      featureset_override:
        to_build: false
      baremetal_image_name: "ipxe-boot"
      tripleo_image_type: overcloud-full

- job:
    name: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-wallaby
    parent: periodic-tripleo-ci-ovb-required-project-rdo-centos-9-wallaby
    override-checkout: "stable/wallaby"
    vars:
      <<: *wallaby_vars
      nodes: 3ctlr_1comp
      featureset: '035'
      featureset_override:
        to_build: false


- job:
    name: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp_1supp-featureset039-wallaby
    parent: periodic-tripleo-ci-ovb-required-project-rdo-centos-9-wallaby
    override-checkout: "stable/wallaby"
    vars:
      <<: *wallaby_vars
      nodes: 3ctlr_1comp_1supp
      featureset: '039'
      featureset_override:
        to_build: false
      playbooks:
        - ovb-setup.yml
        - baremetal-full-freeipa.yml
        - baremetal-full-undercloud.yml
        - baremetal-full-overcloud-prep.yml
        - baremetal-full-overcloud.yml
        - baremetal-full-overcloud-validate.yml


- job:
    name: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp_1supp-featureset064-wallaby
    parent: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp_1supp-featureset039-wallaby
    vars:
      featureset: '064'

- job:
    name: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-rbac-wallaby
    parent: periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset001-wallaby
    voting: false
    vars:
      enable_secure_rbac: true

- job:
    name: periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-rbac-wallaby
    parent: periodic-tripleo-ci-centos-9-ovb-1ctlr_2comp-featureset020-wallaby
    voting: false
    vars:
      enable_secure_rbac: true
      baremetal_image_name: "ipxe-uefi"
      tripleo_image_type: overcloud-hardened-uefi-full

## Quay

- job:
    name: periodic-tripleo-ci-build-containers-ubi-9-quay-push-wallaby
    parent: periodic-tripleo-build-containers-quay-centos-9-secrets
    override-checkout: "stable/wallaby"
    vars:
      release: wallaby
      branch_override: "stable/wallaby"
      registry_namespace: tripleowallabycentos9

## Temporary trigger jobs till vexxhost is stable

- job:
    name: create-fs035-wallaby-c9-trigger-for-downstream
    parent: create-scenario010-trigger-for-downstream
    vars:
      trigger_branch: wallaby
      trigger_os_distro: centos_9
      trigger_job_name: fs035
      trigger_commit_msg: "Trigger for fs035 wallaby c9 job"

- job:
    name: create-fs001-wallaby-c9-trigger-for-downstream
    parent: create-scenario010-trigger-for-downstream
    vars:
      trigger_branch: wallaby
      trigger_os_distro: centos_9
      trigger_job_name: fs001
      trigger_commit_msg: "Trigger for fs001 wallaby c9 job"
