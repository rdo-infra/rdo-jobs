---
- job:
    # This is an abstract job to share common bits for each podman jobs
    name: tripleo-podman-integration
    abstract: true
    pre-run: playbooks/tripleo-podman-integration/pre.yaml
    run: playbooks/tripleo-podman-integration/run.yaml
    post-run: playbooks/tripleo-podman-integration/post.yaml
    nodeset:
      nodes:
        - name: test
          label: upstream-centos-8

- job:
    name: tripleo-podman-integration-master-centos-8
    parent: tripleo-podman-integration
    # branches makes this job run only for master PR
    branches: master
    required-projects:
      # without options, the branch of the PR is used for the required-projects
      - name: opendev.org/openstack/tripleo-heat-templates
      - name: github.com/containers/libpod

- job:
    name: tripleo-podman-integration-master-rhel-8
    parent: tripleo-podman-integration-master-centos-8
    nodeset:
      nodes:
        - name: test
          label: upstream-rhel-8

- job:
    name: tripleo-podman-integration-master-rdo-fedora-stable
    parent: tripleo-podman-integration-master-rdo-fedora-stable
    nodeset:
      nodes:
        - name: test
          label: rdo-fedora-stable