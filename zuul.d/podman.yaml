---
- job:
    # This is an abstract job to share common bits for each podman jobs
    name: podman-package
    abstract: true
    pre-run: playbooks/podman/pre.yaml
    run: playbooks/podman/run.yaml
    post-run: playbooks/podman/post.yaml
    nodeset:
      nodes:
        - name: test
          label: upstream-centos-8

- job:
    name: podman-package-centos-8
    parent: podman-package
    # branches makes this job run only for master PR
    branches: master
    required-projects:
      # without options, the branch of the PR is used for the required-projects
      - name: opendev.org/openstack/tripleo-heat-templates
      - name: github.com/containers/libpod

- job:
    name: podman-package-centos-7
    parent: podman-package-centos-8
    nodeset:
      nodes:
        - name: test
          label: upstream-centos-7

- job:
    name: podman-package-rhel-8
    parent: podman-package-centos-8
    nodeset:
      nodes:
        - name: test
          label: upstream-rhel-8

- job:
    name: podman-package-fedora-30
    parent: podman-package-centos-8
    nodeset:
      nodes:
        - name: test
          label: cloud-fedora-30
