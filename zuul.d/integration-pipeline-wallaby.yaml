---
# wallaby integration pipeline
- project-template:
    name: integration-pipeline-wallaby
    openstack-periodic-integration-stable1:
      jobs:
        ##### wallaby #####
        ## containers/images
        - periodic-tripleo-ci-build-containers-ubi-8-push-wallaby:
            dependencies:
              - periodic-tripleo-centos-8-wallaby-promote-promoted-components-to-tripleo-ci-testing
        - periodic-tripleo-centos-8-buildimage-overcloud-hardened-full-wallaby:
            dependencies:
              - periodic-tripleo-centos-8-wallaby-promote-promoted-components-to-tripleo-ci-testing
            vars:
              tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2
        - periodic-tripleo-centos-8-buildimage-overcloud-full-wallaby:
            dependencies:
              - periodic-tripleo-centos-8-wallaby-promote-promoted-components-to-tripleo-ci-testing
            vars:
              tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2
        - periodic-tripleo-centos-8-buildimage-ironic-python-agent-wallaby:
            dependencies:
              - periodic-tripleo-centos-8-wallaby-promote-promoted-components-to-tripleo-ci-testing
            vars:
              tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2
        ## standalone
        - periodic-tripleo-ci-centos-8-standalone-wallaby:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push-wallaby
        ## ovb
        - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-wallaby:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push-wallaby
              - periodic-tripleo-centos-8-buildimage-overcloud-full-wallaby
              - periodic-tripleo-centos-8-buildimage-ironic-python-agent-wallaby
        - periodic-tripleo-centos-8-wallaby-promote-promoted-components-to-tripleo-ci-testing
