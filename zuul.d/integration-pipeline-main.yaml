---
# master integration pipeline
- project-template:
    name: integration-pipeline-main
    openstack-periodic-integration-main:
      jobs:
        ##### master #####
        - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
              - periodic-tripleo-centos-8-buildimage-overcloud-full-master
              - periodic-tripleo-centos-8-buildimage-ironic-python-agent-master
        - periodic-tripleo-ci-centos-8-multinode-1ctlr-featureset030-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-ovb-1ctlr_2comp-featureset020-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
              - periodic-tripleo-centos-8-buildimage-overcloud-full-master
              - periodic-tripleo-centos-8-buildimage-ironic-python-agent-master
        - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
              - periodic-tripleo-centos-8-buildimage-overcloud-full-master
              - periodic-tripleo-centos-8-buildimage-ironic-python-agent-master
        - periodic-tripleo-ci-centos-8-ovb-1ctlr_1comp-featureset002-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp_1supp-featureset039-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
              - periodic-tripleo-centos-8-buildimage-overcloud-full-master
              - periodic-tripleo-centos-8-buildimage-ironic-python-agent-master
        - periodic-tripleo-ci-centos-8-multinode-1ctlr-featureset037-updates-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-singlenode-featureset050-upgrades-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-multinode-1ctlr-featureset010-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-undercloud-containers-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario001-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario002-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario003-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario004-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario007-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario010-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario012-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-standalone-full-tempest-api-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-standalone-on-multinode-ipa-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-standalone-upgrade-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-containers-undercloud-minion-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-centos-8-scenario010-ovn-provider-standalone-master:
            dependencies:
              - periodic-tripleo-ci-build-containers-ubi-8-push
        - periodic-tripleo-ci-build-containers-ubi-8-push:
            nodeset: single-centos-8-stream-node
            dependencies:
              - periodic-tripleo-centos-8-master-promote-promoted-components-to-tripleo-ci-testing
            vars:
              volume_mounts:
                - "/etc/yum.repos.d:/etc/distro.repos.d:z"
                - "/etc/pki/rpm-gpg:/etc/pki/rpm-gpg:z"
                - "/etc/dnf/vars:/etc/dnf/vars:z"
        - periodic-tripleo-centos-8-buildimage-overcloud-hardened-full-master:
            nodeset: single-centos-8-stream-node
            dependencies:
              - periodic-tripleo-centos-8-master-promote-promoted-components-to-tripleo-ci-testing
            vars:
              tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2
        - periodic-tripleo-centos-8-buildimage-overcloud-full-master:
            nodeset: single-centos-8-stream-node
            dependencies:
              - periodic-tripleo-centos-8-master-promote-promoted-components-to-tripleo-ci-testing
            vars:
              tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2
        - periodic-tripleo-centos-8-buildimage-ironic-python-agent-master:
            nodeset: single-centos-8-stream-node
            dependencies:
              - periodic-tripleo-centos-8-master-promote-promoted-components-to-tripleo-ci-testing
            vars:
              tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2
#        - periodic-tripleo-centos-8-master-promote-promoted-components-to-tripleo-ci-testing
