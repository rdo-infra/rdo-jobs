---
# zuul.d/standalone-jobs.yaml
# Zuul layout for TripleO standalone jobs.
# It contains all the jobs related to standalone installer testing.

- job:
    name: periodic-tripleo-ci-centos-7-standalone-master
    parent: tripleo-ci-base-standalone-periodic
    vars:
      featureset: '052'
      release: master

- job:
    name: periodic-tripleo-ci-centos-7-standalone-full-tempest-master
    parent: periodic-tripleo-ci-centos-7-standalone-master
    vars:
      featureset: '052'
      release: master
      featureset_override:
        test_white_regex: '.*'

- job:
    name: periodic-tripleo-ci-fedora-28-centos-7-containers-standalone-master
    parent: tripleo-ci-base-standalone-periodic
    nodeset: single-upstream-fedora-28-node
    vars:
      featureset: '099'
      featureset_override:
        run_tempest: false
      release: master
      fedora_centos_mixed_distribution_job: true

- job:
    name: periodic-tripleo-ci-centos-7-scenario004-standalone
    parent: tripleo-ci-base-standalone-periodic
    vars:
      featureset: '052'
      release: master
      standalone_ceph: true
      featureset_override:
        standalone_container_cli: docker
        standalone_environment_files:
          - 'ci/environments/scenario004-standalone.yaml'
          - 'environments/low-memory-usage.yaml'
        tempest_whitelist:
          - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops'
          - 'manila_tempest_tests.tests.api.test_shares.SharesCephFSTest.test_create_get_delete_share'
        tempest_plugins:
          - python2-manila-tests-tempest
        tempest_extra_config:
          'share.multitenancy_enabled': 'False'
          'share.enable_protocols': 'cephfs'
          'share.capability_snapshot_support': 'False'
          'share.capability_create_share_from_snapshot_support': 'False'
        test_white_regex: ''
