- job:
    name: tripleo-rhel-8-buildimage-overcloud-full
    parent: tripleo-rhel-8-master-buildimage-base
    voting: true
    vars:
      tripleo_image_type: overcloud-full

- job:
    name: tripleo-rhel-8-buildimage-overcloud-hardened-full
    parent: tripleo-rhel-8-master-buildimage-base
    voting: true
    vars:
      tripleo_image_type: overcloud-hardened-full

- job:
    name: tripleo-rhel-8-buildimage-ironic-python-agent
    parent: tripleo-rhel-8-master-buildimage-base
    voting: false
    vars:
      tripleo_image_type: ironic-python-agent

- job:
    name: tripleo-rhel-8-buildimage-overcloud-full-train
    parent: tripleo-rhel-8-buildimage-overcloud-full
    branches: ^stable/train$
    vars:
      branch_override: 'stable/train'
      release: train
- job:
    name: tripleo-rhel-8-buildimage-overcloud-hardened-full-train
    parent: tripleo-rhel-8-buildimage-overcloud-hardened-full
    branches: ^stable/train$
    vars:
      branch_override: 'stable/train'
      release: train
- job:
    name: tripleo-rhel-8-buildimage-ironic-python-agent-train
    parent: tripleo-rhel-8-buildimage-ironic-python-agent
    branches: ^stable/train$
    vars:
      branch_override: 'stable/train'
      release: train

- job:
    # This is an abstract job
    name: periodic-tripleo-ci-overcloud-image-sanity-base
    abstract: true
    run: playbooks/overcloud-image-sanity/run.yaml
    post-run: playbooks/overcloud-image-sanity/post.yaml
    nodeset: single-rhel-8-node

- job:
    name: periodic-tripleo-ci-centos-8-overcloud-image-sanity-master
    parent: periodic-tripleo-ci-overcloud-image-sanity-base
