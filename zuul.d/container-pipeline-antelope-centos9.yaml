---
# antelope container build, test, promotion pipeline
- project-template:
    name: container-pipeline-antelope-centos9
    openstack-periodic-container-antelope-centos9:
      jobs:
        - periodic-centos-9-antelope-promote-podified-ci-testing-to-current-podified:
            dependencies:
              - periodic-container-quay-push-centos-9-antelope
              # Tempest API test
        - periodic-container-quay-push-centos-9-antelope:
            dependencies:
              - periodic-podified-edpm-deployment-antelope-ocp-crc-1cs9
              - periodic-podified-edpm-baremetal-antelope-ocp-crc
        - periodic-podified-edpm-deployment-antelope-ocp-crc-1cs9:
            dependencies: &deps
              - periodic-container-tcib-build-push-centos-9-antelope
            required-projects: &rp
              - name: openstack-k8s-operators/install_yamls
                override-checkout: main
              - name: openstack-k8s-operators/openstack-operator
                override-checkout: main
              - name: github.com/openstack-k8s-operators/ci-framework
                override-checkout: main
              - name: github.com/openstack-k8s-operators/repo-setup
                override-checkout: main
              - name: github.com/openstack-k8s-operators/dataplane-operator
                override-checkout: main
              - name: github.com/openstack-k8s-operators/infra-operator
                override-checkout: main
              - name: github.com/openstack-k8s-operators/openstack-baremetal-operator
                override-checkout: main
        - periodic-edpm-build-push-images-centos-9-antelope:
            required-projects:
              - name: github.com/openstack-k8s-operators/ci-framework
                override-checkout: main
              - name: github.com/openstack-k8s-operators/repo-setup
                override-checkout: main
              - name: github.com/openstack-k8s-operators/edpm-image-builder
                override-checkout: main
        - periodic-podified-edpm-baremetal-antelope-ocp-crc:
            dependencies: *deps
            required-projects: *rp
        - periodic-container-tcib-build-push-centos-9-antelope:
            dependencies:
              - periodic-centos-9-antelope-promote-consistent-to-podified-ci-testing
        - periodic-centos-9-antelope-promote-consistent-to-podified-ci-testing
