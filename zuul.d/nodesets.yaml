# Container nodesets
- nodeset:
    name: container-centos
    nodes:
      - name: container
        label: runc-centos-7

- nodeset:
    name: container-fedora
    nodes:
      - name: container
        label: runc-fedora-29

# Dib centos
- nodeset:
    name: dib-centos-7
    nodes:
      - name: dib-centos-7
        label: dib-centos-7

# Devstack nodeset
- nodeset:
    name: openstack-single-node
    nodes:
      - name: controller
        label: upstream-centos-7

- nodeset:
    name: openstack-two-node
    nodes:
      - name: controller
        label: upstream-centos-7
      - name: compute1
        label: upstream-centos-7
    groups:
      # Node where tests are executed and test results collected
      - name: tempest
        nodes:
          - controller
      # Nodes running the compute service
      - name: compute
        nodes:
          - controller
          - compute1
      # Nodes that are not the controller
      - name: subnode
        nodes:
          - compute1
      # Switch node for multinode networking setup
      - name: switch
        nodes:
          - controller
      # Peer nodes for multinode networking setup
      - name: peers
        nodes:
          - compute1

- nodeset:
    name: legacy-upstream-centos-7
    nodes:
      - name: primary
        label: upstream-centos-7

- nodeset:
    name: rdo-centos-7
    nodes:
      - name: rdo-centos-7
        label: rdo-centos-7

- nodeset:
    name: rdo-fedora-28
    nodes:
      - name: rdo-fedora-28
        label: rdo-fedora-28

- nodeset:
    name: rdo-fedora-stable
    nodes:
      - name: rdo-fedora-stable
        label: rdo-fedora-stable

- nodeset:
    name: tripleo-ovb-centos-7
    nodes:
      - name: tripleo-ovb-centos-7
        label: tripleo-ovb-centos-7

- nodeset:
    name: tripleo-ovb-centos-7-primary
    nodes:
      - name: primary
        label: tripleo-ovb-centos-7
    groups:
      - name: switch
        nodes: []
      - name: peers
        nodes: []

- nodeset:
    name: tripleo-ovb-fedora-28
    nodes:
      - name: tripleo-ovb-fedora-28
        label: tripleo-ovb-fedora-28

- nodeset:
    name: tripleo-ovb-fedora-28-primary
    nodes:
      - name: primary
        label: tripleo-ovb-fedora-28
    groups:
      - name: switch
        nodes: []
      - name: peers
        nodes: []

- nodeset:
    name: upstream-centos-7-vexxhost
    nodes:
      - name: primary
        label: upstream-centos-7-vexxhost
    groups:
      - name: switch
        nodes: []
      - name: peers
        nodes: []

- nodeset:
    name: upstream-centos-7
    nodes:
      - name: upstream-centos-7
        label: upstream-centos-7

- nodeset:
    name: upstream-rhel-8
    nodes:
      - name: upstream-rhel-8
        label: upstream-rhel-8

- nodeset:
    name: upstream-centos-7-2-node
    nodes:
      - name: primary
        label: upstream-centos-7
      - name: secondary
        label: upstream-centos-7
    groups:
      - name: subnodes
        nodes:
          - secondary

- nodeset:
    name: two-centos-7-nodes
    nodes:
      - name: primary
        label: upstream-centos-7
      - name: secondary
        label: upstream-centos-7
    groups:
      - name: switch
        nodes:
          - primary
      - name: peers
        nodes:
          - secondary
      - name: subnodes
        nodes:
          - secondary

- nodeset:
    name: single-fedora-28-node
    nodes:
      # NOTE(aschultz) this deviates from the upstream (openstack) node set
      - name: primary
        label: rdo-fedora-28

- nodeset:
    name: two-fedora-28-nodes
    nodes:
      - name: primary
        label: rdo-fedora-28
      - name: secondary
        label: rdo-fedora-28
    groups:
      - name: switch
        nodes:
          - primary
      - name: peers
        nodes:
          - secondary
      - name: subnodes
        nodes:
          - secondary

- nodeset:
    name: single-upstream-fedora-28-node
    nodes:
      - name: primary
        label: upstream-fedora-28
    groups:
      - name: switch
        nodes:
          - primary
      - name: peers
        nodes: []

- nodeset:
    name: single-centos-7-node
    nodes:
      - name: primary
        label: upstream-centos-7
    groups:
      - name: switch
        nodes:
          - primary
      - name: peers
        nodes: []

- nodeset:
    name: single-rhel-8-node
    nodes:
      - name: primary
        label: upstream-rhel-8
    groups:
      - name: switch
        nodes:
          - primary
      - name: peers
        nodes: []

- nodeset:
    name: three-centos-7-nodes
    nodes:
      - name: primary
        label: upstream-centos-7
      - name: secondary-1
        label: upstream-centos-7
      - name: secondary-2
        label: upstream-centos-7
    groups:
      - name: switch
        nodes:
          - primary
      - name: peers
        nodes:
          - secondary-1
          - secondary-2
      - name: subnodes
        nodes:
          - secondary-1
          - secondary-2

- nodeset:
    name: tripleo-ovb-rhel-8-primary
    nodes:
      - name: primary
        label: upstream-rhel-8
    groups:
      - name: switch
        nodes: []
      - name: peers
        nodes: []
