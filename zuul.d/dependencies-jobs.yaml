---
# dependency jobs

- job:
    name: periodic-tripleo-ci-centos-8-standalone-dependency-master
    parent: periodic-tripleo-ci-centos-8-standalone-master
    abstract: true
    nodeset: single-centos-8-node-vexxhost
    pre-run: playbooks/dependency/get-dependency-repo-content.yaml
    vars: &dependency_vars_standalone
      featureset: '052'
      dependency:
        - { 'dependency_name': '', 'dependency_base_url': '' }
      release: master
      promote_source: current-tripleo
      add_repos: >-
        {% for item in dependency %}
        - type: generic
          reponame: "{{ item.dependency_name }}"
          filename: "{{ item.dependency_name }}-dependency.repo"
          priority: 1
          baseurl: "{{ item.dependency_dependency_base_url }}"
          update_container: false
        {% endfor %}

### centos 8 CR jobs
- job:
    name: periodic-tripleo-ci-centos-8-standalone-centos8cr-master
    parent: periodic-tripleo-ci-centos-8-standalone-dependency-master
    vars:
      dependency:
        - { 'dependency_name': 'centos8cr', 'dependency_base_url': 'http://mirror.centos.org/centos/8/cr/x86_64/os'}

- job:
    name: periodic-tripleo-ci-centos-8-standalone-centos8cr-container-build-master
    parent: periodic-tripleo-ci-centos-8-standalone-dependency-master
    vars:
      dependency:
        - { 'dependency_name': 'centos8cr', 'dependency_base_url': 'http://mirror.centos.org/centos/8/cr/x86_64/os'}
      build_container_images: true

### centos 8 stream jobs
