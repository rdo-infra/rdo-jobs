- job:
    name: tripleo-ci-base-ovb-rdo
    abstract: true
    description: |
        Base abstract job for OVB in RDO CI zuulv3 jobs
    parent: tripleo-ci-base-ovb
    vars:
      environment_type: ovb
    nodeset: tripleo-ovb-centos-7-primary
    pre-run:
      - playbooks/legacy/pre.yaml

- job:
    name: tripleo-ci-base-multinode-rdo
    abstract: true
    description: |
        Base abstract job for multinode in RDO CI zuulv3 jobs
    parent: tripleo-ci-base-multinode
    vars:
      environment_type: multinode
    nodeset: two-centos-7-nodes
    pre-run:
      - playbooks/legacy/pre.yaml

- job:
    name: tripleo-ci-centos-7-ovb-3ctlr_1comp-featureset053-master
    parent: tripleo-ci-base-ovb-rdo
    timeout: 14400
    branches: master
    vars:
      nodes: 3ctlr_1comp
      featureset: '053'
      playbooks:
        - ovb-setup.yml
        - baremetal-full-undercloud.yml
        - baremetal-full-overcloud-prep.yml
        - baremetal-full-overcloud.yml
        - baremetal-full-overcloud-validate.yml
        - browbeat-minimal.yml

- job:
    name: tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-master
    parent: tripleo-ci-base-multinode-rdo
    timeout: 10800
    branches: ^master$
    voting: false
    vars:
      environment_type: multinode
      nodes: 1ctlr
      featureset: '037'
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^Puppetfile.*$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^requirements.txt$
      - ^setup.*$
      - ^spec/.*$
      - ^test-requirements.txt$
      - tox.ini

