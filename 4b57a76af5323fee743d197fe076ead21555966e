{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1b1232cc_e4328061",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 716
      },
      "writtenOn": "2024-06-23T17:13:57Z",
      "side": 1,
      "message": "TP: https://review.rdoproject.org/r/c/testproject/+/53564",
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "82eabe28_fb83e474",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 790
      },
      "writtenOn": "2024-06-24T15:28:21Z",
      "side": 1,
      "message": "I think that both cifmw_test_operator_tempest_include_list and cifmw_test_operator_tempest_exclude_list still require an extra line for them to work [1]. I think this should be fixed before we merge this.\n\n[1] https://review.rdoproject.org/r/c/rdo-jobs/+/53563/11/zuul.d/container-jobs-antelope-centos9.yaml#100",
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a74e6721_e5cb1eff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "the jobs use test-operator and the given tests are passing, if the job tests what is meant to be tested by it, then this lgtm .. although I made a few comments about the set variables",
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2caab009_ce1fbe6e",
        "filename": "playbooks/data_plane_adoption/files/ci_framework_test_operator_params.yaml.j2",
        "patchSetId": 11
      },
      "lineNbr": 9,
      "author": {
        "id": 790
      },
      "writtenOn": "2024-06-24T15:28:21Z",
      "side": 1,
      "message": "Can\u0027t we use `default(omit)` here? Or would it have some unwanted consequences?",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 9,
        "endChar": 11
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20de0741_58321331",
        "filename": "playbooks/data_plane_adoption/files/ci_framework_test_operator_params.yaml.j2",
        "patchSetId": 11
      },
      "lineNbr": 9,
      "author": {
        "id": 716
      },
      "writtenOn": "2024-07-01T07:35:34Z",
      "side": 1,
      "message": "I tried like this:\n```\n\n---\ncifmw_test_operator_tempest_image: {{ cifmw_test_operator_tempest_image | default(omit)}}\ncifmw_test_operator_tempest_image_tag: {{ cifmw_test_operator_tempest_image_tag | default(omit)}}\ncifmw_test_operator_timeout: {{ cifmw_test_operator_timeout | default(omit)}}\ncifmw_test_operator_tempest_container: {{cifmw_test_operator_tempest_container | default(omit)}}\ncifmw_test_operator_tempest_include_list: |\n    {{ cifmw_test_operator_tempest_include_list | to_nice_yaml | default(omit)}}\ncifmw_test_operator_tempest_exclude_list: |\n    {{ cifmw_test_operator_tempest_exclude_list | to_nice_yaml | default(omit)}}\ncifmw_test_operator_default_groups:\n    {{ cifmw_test_operator_default_groups | default(omit)}}\ncifmw_test_operator_default_jobs:\n    {{ cifmw_test_operator_default_jobs | default(omit)}}\n\n```\nBut when I tested with cases where the vars were undefined I got \n``` RepresenterError: (\u0027cannot represent an object\u0027, AnsibleUndefined) ```\n\nDo you have another way in mind?",
      "parentUuid": "2caab009_ce1fbe6e",
      "range": {
        "startLine": 6,
        "startChar": 0,
        "endLine": 9,
        "endChar": 11
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1aedc4bc_d7731488",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "why the extras one? I\u0027d expect either openstack-tempest or openstack-tempest-all, not openstack-tempest-extras one .. the extras image was meant for experimentation (mainly with dependencies and avoiding the whole rpm build process by simply cloning the needed dep in the image)",
      "range": {
        "startLine": 88,
        "startChar": 94,
        "endLine": 88,
        "endChar": 100
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2246899_24916d3f",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 88,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "this var is set indirectly by setting cifmw_test_operator_tempest_registry, cifmw_test_operator_tempest_namespace and cifmw_test_operator_tempest_container",
      "range": {
        "startLine": 88,
        "startChar": 6,
        "endLine": 88,
        "endChar": 39
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe69d4e9_9aae8e51",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 89,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "current-podified, is the default value, so maybe we don\u0027t need this then?\n\nhttps://github.com/openstack-k8s-operators/ci-framework/blob/66cc56ebd403aa1d77d44e267b126243d3c7e8ae/roles/test_operator/defaults/main.yml#L43",
      "range": {
        "startLine": 89,
        "startChar": 6,
        "endLine": 89,
        "endChar": 43
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8b46882_7a58c43c",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 91,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "this doesn\u0027t seem to be needed if you set cifmw_test_operator_tempest_image as it is now .. in ci-framework, cifmw_test_operator_tempest_container is set using the cifmw_test_operator_tempest_image see https://github.com/openstack-k8s-operators/ci-framework/blob/66cc56ebd403aa1d77d44e267b126243d3c7e8ae/roles/test_operator/defaults/main.yml#L42",
      "range": {
        "startLine": 91,
        "startChar": 6,
        "endLine": 91,
        "endChar": 43
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c899b68_a6c6cfad",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 102,
      "author": {
        "id": 790
      },
      "writtenOn": "2024-06-24T15:28:21Z",
      "side": 1,
      "message": "As we\u0027ve already discussed this is a little bit hacky (adding the new line) but it works.",
      "range": {
        "startLine": 102,
        "startChar": 8,
        "endLine": 102,
        "endChar": 15
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dfc506e0_927ea095",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 102,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "hacky in what? why do we need the new line there? f.e. i don\u0027t see one here:\nhttps://github.com/openstack-k8s-operators/ci-framework/blob/66cc56ebd403aa1d77d44e267b126243d3c7e8ae/zuul.d/tempest_multinode.yaml#L83",
      "parentUuid": "4c899b68_a6c6cfad",
      "range": {
        "startLine": 102,
        "startChar": 8,
        "endLine": 102,
        "endChar": 15
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "73bc0816_f7f6e5b3",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 102,
      "author": {
        "id": 716
      },
      "writtenOn": "2024-07-01T15:39:32Z",
      "side": 1,
      "message": "the data plane adoption jobs do not by default get the cifmw variables. I am passing the cifmw vars (defined in the job def) to the task that calls the test role https://review.rdoproject.org/r/c/rdo-jobs/+/53563/12/playbooks/data_plane_adoption/deploy_standalone_run_repo_tests.yaml#264 \nvia this jinja template https://review.rdoproject.org/r/c/rdo-jobs/+/53563/12/playbooks/data_plane_adoption/files/ci_framework_test_operator_params.yaml.j2\n\nI tried some syntaxes and some of then threw errors. There is a slack thread where I pasted some of the issues. https://redhat-internal.slack.com/archives/C03MD4LG22Z/p1718259329379569\n\n\nPls lemme know if you have some suggestions - this way of adding a hacky \"/n\" doesnt look good.",
      "parentUuid": "dfc506e0_927ea095",
      "range": {
        "startLine": 102,
        "startChar": 8,
        "endLine": 102,
        "endChar": 15
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e06391f8_44cec929",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 118,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "same as the comment above",
      "range": {
        "startLine": 118,
        "startChar": 94,
        "endLine": 118,
        "endChar": 100
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70fa8700_7a14abcd",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 119,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 119,
        "startChar": 6,
        "endLine": 119,
        "endChar": 63
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "366a85b5_b1a6f2fa",
        "filename": "zuul.d/container-jobs-antelope-centos9.yaml",
        "patchSetId": 11
      },
      "lineNbr": 121,
      "author": {
        "id": 266
      },
      "writtenOn": "2024-06-24T22:50:10Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 121,
        "startChar": 6,
        "endLine": 121,
        "endChar": 66
      },
      "revId": "4b57a76af5323fee743d197fe076ead21555966e",
      "serverId": "270e2033-b340-4cff-9539-693957ebf0e7"
    }
  ]
}